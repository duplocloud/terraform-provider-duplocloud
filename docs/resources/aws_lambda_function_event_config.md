---
# generated by https://github.com/hashicorp/terraform-plugin-docs
page_title: "duplocloud_aws_lambda_function_event_config Resource - terraform-provider-duplocloud"
subcategory: ""
description: |-
  duplocloud_aws_lambda_function_event_config manages an AWS lambda function in Duplo.
---

# duplocloud_aws_lambda_function_event_config (Resource)

`duplocloud_aws_lambda_function_event_config` manages an AWS lambda function in Duplo.

## Example Usage

```terraform
resource "duplocloud_tenant" "myapp" {
  account_name = "myapp"
  plan_id      = "nondefault"
}

resource "duplocloud_aws_lambda_function" "myfunction" {

  tenant_id   = duplocloud_tenant.this.tenant_id
  name        = "myfunction"
  description = "A description of my function"

  runtime   = "java11"
  handler   = "com.example.MyFunction::handleRequest"
  s3_bucket = "my-bucket-name"
  s3_key    = "my-function.zip"

  environment {
    variables = {
      "foo" = "bar"
    }
  }

  timeout     = 60
  memory_size = 512
}

resource "duplocloud_aws_sqs_queue" "failure_queue" {
  tenant_id                   = duplocloud_tenant.this.tenant_id
  name                        = "failure_queue"
  fifo_queue                  = false
  message_retention_seconds   = 345600
  visibility_timeout_seconds  = 30
  content_based_deduplication = false
  delay_seconds               = 10
}

resource "duplocloud_aws_sqs_queue" "success_queue" {
  tenant_id                   = duplocloud_tenant.this.tenant_id
  name                        = "success_queue"
  fifo_queue                  = false
  message_retention_seconds   = 345600
  visibility_timeout_seconds  = 30
  content_based_deduplication = false
  delay_seconds               = 10
}

resource "duplocloud_aws_lambda_function_event_config" "event-invoke-config" {
  tenant_id                = duplocloud_tenant.this.tenant_id
  function_name            = duplocloud_aws_lambda_function.myfunction.fullname
  max_retry_attempts       = 1
  max_event_age_in_seconds = 100


  destination_config {
    on_failure {
      destination = duplocloud_aws_sqs_queue.failure_queue.arn
    }

    on_success {
      destination = duplocloud_aws_sqs_queue.success_queue.arn
    }
  }
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `function_name` (String) Name of Lambda function this configuration should apply to
- `tenant_id` (String) The GUID of the tenant that the lambda asynchronous invocation configuration will be created in.

### Optional

- `destination_config` (Block List, Max: 1) A configuration block to specify event destinations (see [below for nested schema](#nestedblock--destination_config))
- `max_event_age_in_seconds` (Number) The maximum age of a request that Lambda sends to a function for processing
- `max_retry_attempts` (Number) Maximum number of attempts a Lambda function may retry in case of error
- `qualifier` (String) The qualifier for the lambda event invoke configuration
- `timeouts` (Block, Optional) (see [below for nested schema](#nestedblock--timeouts))

### Read-Only

- `id` (String) The ID of this resource.

<a id="nestedblock--destination_config"></a>
### Nested Schema for `destination_config`

Optional:

- `on_failure` (Block List, Max: 1) Configured destination for failed asynchronous invocations (see [below for nested schema](#nestedblock--destination_config--on_failure))
- `on_success` (Block List, Max: 1) Configured destination for successful asynchronous invocations (see [below for nested schema](#nestedblock--destination_config--on_success))

<a id="nestedblock--destination_config--on_failure"></a>
### Nested Schema for `destination_config.on_failure`

Required:

- `destination` (String) The AWS ARN of the destination resource


<a id="nestedblock--destination_config--on_success"></a>
### Nested Schema for `destination_config.on_success`

Required:

- `destination` (String) The AWS ARN of the destination resource



<a id="nestedblock--timeouts"></a>
### Nested Schema for `timeouts`

Optional:

- `create` (String)
- `delete` (String)

## Import

Import is supported using the following syntax:

```shell
# Example: Importing an existing AWS lambda function event invoke config
#  - *TENANT_ID* is the tenant GUID
#  - *SHORT_NAME* is the short name of the AWS lambda function
#
terraform import duplocloud_aws_lambda_function_event_config.event-invoke-config *TENANT_ID*/*SHORT_NAME*/eventInvokeConfig
```
