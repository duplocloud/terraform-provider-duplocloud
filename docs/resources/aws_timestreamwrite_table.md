---
# generated by https://github.com/hashicorp/terraform-plugin-docs
page_title: "duplocloud_aws_timestreamwrite_table Resource - terraform-provider-duplocloud"
subcategory: ""
description: |-
  duplocloud_aws_timestreamwrite_table manages an aws Timestream Table resource in Duplo.
---

# duplocloud_aws_timestreamwrite_table (Resource)

`duplocloud_aws_timestreamwrite_table` manages an aws Timestream Table resource in Duplo.

## Example Usage

```terraform
locals {
  tenant_id = "2a80c75d-9f58-4572-83b7-157b05bce259"
}

data "duplocloud_tenant_aws_kms_key" "kms_key" {
  tenant_id = local.tenant_id
}

resource "duplocloud_aws_timestreamwrite_database" "timestreamwrite_database" {
  tenant_id  = local.tenant_id
  name       = "test"
  kms_key_id = data.duplocloud_tenant_aws_kms_key.kms_key.key_arn
}

resource "duplocloud_aws_timestreamwrite_table" "timestreamwrite_database_tbl" {
  tenant_id     = local.tenant_id
  database_name = duplocloud_aws_timestreamwrite_database.timestreamwrite_database.fullname
  name          = "example"

  retention_properties {
    magnetic_store_retention_period_in_days = 30
    memory_store_retention_period_in_hours  = 8
  }
  magnetic_store_write_properties {
    enable_magnetic_store_writes = true
    magnetic_store_rejected_data_location {
      s3_configuration {
        bucket_name       = "test"
        encryption_option = "SSE_KMS"
        kms_key_id        = data.duplocloud_tenant_aws_kms_key.kms_key.key_arn
      }
    }
  }
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- **database_name** (String) The full name of the Timestream database.
- **name** (String) The short name of the Timestream Table.
- **tenant_id** (String) The GUID of the tenant that the Timestream Table will be created in.

### Optional

- **magnetic_store_write_properties** (Block List, Max: 1) Contains properties to set on the table when enabling magnetic store writes. (see [below for nested schema](#nestedblock--magnetic_store_write_properties))
- **retention_properties** (Block List, Max: 1) The retention duration for the memory store and magnetic store. (see [below for nested schema](#nestedblock--retention_properties))
- **tags** (Block List) Tags in key-value format. (see [below for nested schema](#nestedblock--tags))
- **timeouts** (Block, Optional) (see [below for nested schema](#nestedblock--timeouts))
- **wait_for_deployment** (Boolean) Defaults to `true`.

### Read-Only

- **arn** (String) The ARN that uniquely identifies this Table.
- **id** (String) The ID of this resource.

<a id="nestedblock--magnetic_store_write_properties"></a>
### Nested Schema for `magnetic_store_write_properties`

Optional:

- **enable_magnetic_store_writes** (Boolean) A flag to enable magnetic store writes. Defaults to `false`.
- **magnetic_store_rejected_data_location** (Block List, Max: 1) The location to write error reports for records rejected asynchronously during magnetic store writes. (see [below for nested schema](#nestedblock--magnetic_store_write_properties--magnetic_store_rejected_data_location))

<a id="nestedblock--magnetic_store_write_properties--magnetic_store_rejected_data_location"></a>
### Nested Schema for `magnetic_store_write_properties.magnetic_store_rejected_data_location`

Optional:

- **s3_configuration** (Block List, Max: 1) Configuration of an S3 location to write error reports for records rejected, asynchronously, during magnetic store writes. (see [below for nested schema](#nestedblock--magnetic_store_write_properties--magnetic_store_rejected_data_location--s3_configuration))

<a id="nestedblock--magnetic_store_write_properties--magnetic_store_rejected_data_location--s3_configuration"></a>
### Nested Schema for `magnetic_store_write_properties.magnetic_store_rejected_data_location.s3_configuration`

Optional:

- **bucket_name** (String) Bucket name of the customer S3 bucket.
- **encryption_option** (String) Encryption option for the customer s3 location. Options are S3 server side encryption with an S3-managed key or KMS managed key. Valid values are `SSE_KMS` and `SSE_S3`.
- **kms_key_id** (String) KMS key arn for the customer s3 location when encrypting with a KMS managed key.
- **object_key_prefix** (String) Object key prefix for the customer S3 location.




<a id="nestedblock--retention_properties"></a>
### Nested Schema for `retention_properties`

Required:

- **magnetic_store_retention_period_in_days** (Number) The duration for which data must be stored in the magnetic store. Minimum value of 1. Maximum value of 73000.
- **memory_store_retention_period_in_hours** (Number) The duration for which data must be stored in the memory store. Minimum value of 1. Maximum value of 8766.


<a id="nestedblock--tags"></a>
### Nested Schema for `tags`

Required:

- **key** (String)
- **value** (String)


<a id="nestedblock--timeouts"></a>
### Nested Schema for `timeouts`

Optional:

- **create** (String)
- **delete** (String)

## Import

Import is supported using the following syntax:

```shell
# Example: Importing an existing AWS Timestream Table
#  - *TENANT_ID* is the tenant GUID
#  - *NAME* is the short name of Timestream Table
#
terraform import duplocloud_aws_timestreamwrite_table.timestreamwrite_table *TENANT_ID*/*NAME*
```
