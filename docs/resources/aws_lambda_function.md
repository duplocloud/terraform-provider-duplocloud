---
# generated by https://github.com/hashicorp/terraform-plugin-docs
page_title: "duplocloud_aws_lambda_function Resource - terraform-provider-duplocloud"
subcategory: ""
description: |-
  duplocloud_aws_lambda_function manages an AWS lambda function in Duplo.
---

# duplocloud_aws_lambda_function (Resource)

`duplocloud_aws_lambda_function` manages an AWS lambda function in Duplo.

## Example Usage

```terraform
resource "duplocloud_tenant" "myapp" {
  account_name = "myapp"
  plan_id      = "default"
}

resource "duplocloud_aws_lambda_function" "myfunction" {

  tenant_id   = duplocloud_tenant.this.tenant_id
  name        = "myfunction"
  description = "A description of my function"

  runtime   = "java11"
  handler   = "com.example.MyFunction::handleRequest"
  s3_bucket = "my-bucket-name"
  s3_key    = "my-function.zip"

  environment {
    variables = {
      "foo" = "bar"
    }
  }

  timeout     = 60
  memory_size = 512
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- **name** (String) The short name of the lambda function cluster.  Duplo will add a prefix to the name.  You can retrieve the full name from the `fullname` attribute.
- **tenant_id** (String) The GUID of the tenant that the lambda function will be created in.

### Optional

- **description** (String) A description of the lambda function.
- **environment** (Block List, Max: 1) Allow customization of the lambda execution environment. (see [below for nested schema](#nestedblock--environment))
- **ephemeral_storage** (Number) The Ephemeral Storage size, in MB, that your lambda function is allowed to use at runtime. Defaults to `512`.
- **handler** (String) The [entrypoint](https://docs.aws.amazon.com/lambda/latest/dg/walkthrough-custom-events-create-test-function.html) of the lambda function in your code.
- **image_config** (Block List, Max: 1) Configuration for the Lambda function's container image (see [below for nested schema](#nestedblock--image_config))
- **image_uri** (String) The docker image that holds the lambda function's code. Used (and required) only when `package_type` is `"Image"`. The image must be in a private ECR.
- **layers** (List of String) List of Lambda Layer Version ARNs (maximum of 5) to attach to your Lambda Function.
- **memory_size** (Number) The maximum amount of memory, in MB, that your lambda function is allowed to use at runtime. Defaults to `128`.
- **package_type** (String) The type of lambda package.  Must be `Zip` or `Image`.  Defaults to `Zip`.
- **runtime** (String) The [runtime](https://docs.aws.amazon.com/lambda/latest/dg/lambda-runtimes.html) that the lambda function needs.
- **s3_bucket** (String) The S3 bucket where the lambda function package is located. Used (and required) only when `package_type` is `"Zip"`.
- **s3_key** (String) The S3 key in the S3 bucket where the lambda function package is located. Used (and required) only when `package_type` is `"Zip"`.
- **tags** (Map of String) Map of tags to assign to the object.
- **timeout** (Number) The execution time limit for the lambda function. Defaults to `3`.
- **timeouts** (Block, Optional) (see [below for nested schema](#nestedblock--timeouts))
- **tracing_config** (Block List, Max: 1) (see [below for nested schema](#nestedblock--tracing_config))

### Read-Only

- **arn** (String) The ARN of the lambda function.
- **fullname** (String) The full name of the lambda function.
- **id** (String) The ID of this resource.
- **last_modified** (String) A timestamp string of lambda's last modification time.
- **role** (String) The IAM role for the lambda function's execution.
- **source_code_hash** (String) The SHA 256 hash of the lambda functions's source code package.
- **source_code_size** (Number) The size in bytes of the lambda functions's source code package.
- **version** (String) The version of the lambda function.

<a id="nestedblock--environment"></a>
### Nested Schema for `environment`

Optional:

- **variables** (Map of String) Map of environment variables that are accessible from the function code during execution.


<a id="nestedblock--image_config"></a>
### Nested Schema for `image_config`

Optional:

- **command** (List of String) The command that is passed to the container.
- **entry_point** (List of String) The entry point that is passed to the container.
- **working_directory** (String) The working directory that is passed to the container.


<a id="nestedblock--timeouts"></a>
### Nested Schema for `timeouts`

Optional:

- **create** (String)
- **delete** (String)


<a id="nestedblock--tracing_config"></a>
### Nested Schema for `tracing_config`

Required:

- **mode** (String) Whether to sample and trace a subset of incoming requests with AWS X-Ray. Valid values are `PassThrough` and `Active`.

## Import

Import is supported using the following syntax:

```shell
# Example: Importing an existing AWS lambda function
#  - *TENANT_ID* is the tenant GUID
#  - *SHORT_NAME* is the short name of the AWS lambda function
#
terraform import duplocloud_aws_lambda_function.myfunction *TENANT_ID*/*SHORT_NAME*
```
