---
# generated by https://github.com/hashicorp/terraform-plugin-docs
page_title: "duplocloud_gcp_cloud_function Resource - terraform-provider-duplocloud"
subcategory: ""
description: |-
  duplocloud_gcp_cloud_function manages a GCP cloud function in Duplo.
---

# duplocloud_gcp_cloud_function (Resource)

`duplocloud_gcp_cloud_function` manages a GCP cloud function in Duplo.

## Example Usage

```terraform
resource "duplocloud_tenant" "myapp" {
  account_name = "myapp"
  plan_id      = "default"
}

// A simple cloud function with an HTTPS trigger
resource "duplocloud_gcp_cloud_function" "myfunc" {
  tenant_id = local.tenant_id

  name = "myfunc"

  source_archive_url = "gs://my-function-code-bucket/myfunc.zip"

  entrypoint = "my_entrypoint"
  runtime    = "nodejs10"

  available_memory_mb = 256
  ingress_type        = 1 // Allow All
  timeout             = 60

  environment_variables = {
    foo = "bar"
  }

  https_trigger {}
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- **entrypoint** (String) The entry point of the cloud function.
- **name** (String) The short name of the cloud function.  Duplo will add a prefix to the name.  You can retrieve the full name from the `fullname` attribute.
- **runtime** (String) The runtime of the cloud function.
Should be one of:

 - `nodejs10` : Node.js 10
 - `nodejs12` : Node.js 12
 - `nodejs14` : Node.js 14
 - `python37` : Python 3.7
 - `python38` : Python 3.8
 - `python39` : Python 3.9
 - `go111` :    Go 1.11
 - `go113` :    Go 1.13
 - `java11` :   Java 11
 - `dotnet3` :  .NET Framework 3
 - `ruby26` :   Ruby 2.6
 - `ruby27` :   Ruby 2.7
 - `nodejs6` :  Node.js 6 (deprecated)
 - `nodejs8` :  Node.js 8 (deprecated)
- **source_archive_url** (String) The cloud storage URL where the cloud function package is located.
- **tenant_id** (String) The GUID of the tenant that the cloud function will be created in.

### Optional

- **available_memory_mb** (Number) The amount of memory available to the cloud function. Defaults to `256`.
- **build_environment_variables** (Map of String) The build environment variables for this cloud function.
- **description** (String) The description of the cloud function.
- **environment_variables** (Map of String) The environment variables for this cloud function.
- **event_trigger** (Block List, Max: 1) Specifies an event trigger for the cloud function. (see [below for nested schema](#nestedblock--event_trigger))
- **https_trigger** (Block List, Max: 1) Specifies an HTTPS trigger for the cloud function. (see [below for nested schema](#nestedblock--https_trigger))
- **ingress_type** (Number) The numerical index of ingress type to use for this cloud function.
Should be one of:

   - `1` : Allow all
   - `2` : Allow internal traffic
   - `3` : Allow internal traffic and GCP load balancing
 Defaults to `1`.
- **labels** (Map of String) The labels assigned to this cloud function.
- **timeout** (Number) The execution time limit for the cloud function. Defaults to `60`.
- **timeouts** (Block, Optional) (see [below for nested schema](#nestedblock--timeouts))

### Read-Only

- **build_id** (String) The ID of the cloud build that built the cloud function.
- **fullname** (String) The full name of the cloud function.
- **id** (String) The ID of this resource.
- **self_link** (String) The SelfLink of the cloud function.
- **version_id** (Number) The current version of the cloud function.

<a id="nestedblock--event_trigger"></a>
### Nested Schema for `event_trigger`

Required:

- **event_type** (String) The type of event that will trigger the function

Optional:

- **resource** (String) The resource that will trigger the function
- **service** (String) The service that will trigger the function


<a id="nestedblock--https_trigger"></a>
### Nested Schema for `https_trigger`

Optional:

- **enabled** (Boolean) Must be set to `true`. Defaults to `true`.

Read-Only:

- **security_level** (String) The security level of the HTTPS trigger
- **url** (String) The URL of the HTTPS trigger


<a id="nestedblock--timeouts"></a>
### Nested Schema for `timeouts`

Optional:

- **create** (String)
- **delete** (String)
- **update** (String)

## Import

Import is supported using the following syntax:

```shell
# Example: Importing an existing GCP cloud function
#  - *TENANT_ID* is the tenant GUID
#  - *SHORT_NAME* is the short name of the GCP cloud function
#
terraform import duplocloud_gcp_cloud_function.myfunc *TENANT_ID*/*SHORT_NAME*
```
