---
# generated by https://github.com/hashicorp/terraform-plugin-docs
page_title: "duplocloud_k8_storage_class Resource - terraform-provider-duplocloud"
subcategory: ""
description: |-
  duplocloud_k8_storage_class manages a kubernetes storage class in a Duplo tenant.
---

# duplocloud_k8_storage_class (Resource)

`duplocloud_k8_storage_class` manages a kubernetes storage class in a Duplo tenant.

## Example Usage

```terraform
locals {
  tenant_id = "3a0b2ea5-7403-4765-ad6e-8771ca8fa0fd"
}

resource "duplocloud_k8_storage_class" "sc" {
  tenant_id              = local.tenant_id
  name                   = "sc"
  storage_provisioner    = "efs.csi.aws.com"
  reclaim_policy         = "Delete"
  volume_binding_mode    = "Immediate"
  allow_volume_expansion = false
  parameters = {
    fileSystemId     = "fs-0d2f79aca4712c6e8",
    basePath         = "/dynamic_provisioning",
    directoryPerms   = "700",
    gidRangeStart    = "1000",
    gidRangeEnd      = "2000",
    provisioningMode = "efs-ap",
  }
  annotations = {
    "a1" = "v1"
    "a2" = "v2"
  }
  labels = {
    "l1" = "v1"
    "l2" = "v2"
  }
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- **name** (String) The name of the storage class.
- **storage_provisioner** (String) Indicates the type of the provisioner
- **tenant_id** (String) The GUID of the tenant that the storage class will be created in.

### Optional

- **allow_volume_expansion** (Boolean) Indicates whether the storage class allow volume expand Defaults to `false`.
- **allowed_topologies** (Block List, Max: 1) Restrict the node topologies where volumes can be dynamically provisioned. (see [below for nested schema](#nestedblock--allowed_topologies))
- **annotations** (Map of String) An unstructured key value map stored with the storage class that may be used to store arbitrary metadata.
- **labels** (Map of String) Map of string keys and values that can be used to organize and categorize (scope and select) the service.
- **parameters** (Map of String) The parameters for the provisioner that should create volumes of this storage class
- **reclaim_policy** (String) Indicates the type of the reclaim policy Defaults to `Delete`.
- **timeouts** (Block, Optional) (see [below for nested schema](#nestedblock--timeouts))
- **volume_binding_mode** (String) Indicates when volume binding and dynamic provisioning should occur Defaults to `Immediate`.

### Read-Only

- **fullname** (String) The full name of the storage class.
- **id** (String) The ID of this resource.

<a id="nestedblock--allowed_topologies"></a>
### Nested Schema for `allowed_topologies`

Optional:

- **match_label_expressions** (Block List) A list of topology selector requirements by labels. (see [below for nested schema](#nestedblock--allowed_topologies--match_label_expressions))

<a id="nestedblock--allowed_topologies--match_label_expressions"></a>
### Nested Schema for `allowed_topologies.match_label_expressions`

Optional:

- **key** (String) The label key that the selector applies to.
- **values** (Set of String) An array of string values. One value must match the label to be selected.



<a id="nestedblock--timeouts"></a>
### Nested Schema for `timeouts`

Optional:

- **create** (String)
- **delete** (String)
- **update** (String)

## Import

Import is supported using the following syntax:

```shell
# Example: Importing an existing kubernetes storage class
#  - *TENANT_ID* is the tenant GUID
#  - *FULL_NAME* is the Duplo provided storage class name
#
terraform import duplocloud_k8_storage_class.sc v3/subscriptions/*TENANT_ID*/k8s/storageclass/*FULL_NAME*
```
