---
# generated by https://github.com/hashicorp/terraform-plugin-docs
page_title: "duplocloud_ecs_task_definition Resource - terraform-provider-duplocloud"
subcategory: ""
description: |-
  duplocloud_ecs_task_definition manages a Amazon ECS task definition in Duplo.
---

# duplocloud_ecs_task_definition (Resource)

`duplocloud_ecs_task_definition` manages a Amazon ECS task definition in Duplo.

## Example Usage

```terraform
resource "duplocloud_tenant" "myapp" {
  account_name = "myapp"
  plan_id      = "default"
}

# Create a task definition for NGINX using ECS
resource "duplocloud_ecs_task_definition" "myservice" {
  tenant_id = duplocloud_tenant.myapp.tenant_id
  family    = "duploservices-default-myservice"
  container_definitions = jsonencode([{
    Name  = "default"
    Image = "nginx:latest"
    Environment = [
      { Name = "NGINX_HOST", Value = "foo" }
    ]
    ContainerMappings = [
      {
        ContainerPorts = "80",
        HostPort = "80",
        Protocol = {
          Value = "tcp"
        }
      }
    ]
  }])
  cpu                      = "256"
  memory                   = "1024"
  requires_compatibilities = ["FARGATE"]
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `container_definitions` (String)
- `family` (String) The name of the task definition to create.
- `tenant_id` (String) The GUID of the tenant that the task definition will be created in.

### Optional

- `cpu` (String)
- `inference_accelerator` (Block Set) (see [below for nested schema](#nestedblock--inference_accelerator))
- `ipc_mode` (String)
- `memory` (String)
- `network_mode` (String) Defaults to `awsvpc`.
- `pid_mode` (String)
- `placement_constraints` (Block Set, Max: 10) (see [below for nested schema](#nestedblock--placement_constraints))
- `prevent_tf_destroy` (Boolean) Prevent this resource to be deleted from terraform destroy. Default value is `true`. Defaults to `true`.
- `proxy_configuration` (Block List, Max: 1) (see [below for nested schema](#nestedblock--proxy_configuration))
- `requires_attributes` (Block Set) (see [below for nested schema](#nestedblock--requires_attributes))
- `requires_compatibilities` (Set of String)
- `timeouts` (Block, Optional) (see [below for nested schema](#nestedblock--timeouts))
- `volumes` (String) Defaults to `[]`.

### Read-Only

- `arn` (String) The ARN of the task definition.
- `execution_role_arn` (String)
- `id` (String) The ID of this resource.
- `revision` (Number) The current revision of the task definition.
- `status` (String) The status of the task definition.
- `tags` (List of Object) (see [below for nested schema](#nestedatt--tags))
- `task_role_arn` (String)

<a id="nestedblock--inference_accelerator"></a>
### Nested Schema for `inference_accelerator`

Required:

- `device_name` (String)
- `device_type` (String)


<a id="nestedblock--placement_constraints"></a>
### Nested Schema for `placement_constraints`

Required:

- `type` (String)

Optional:

- `expression` (String)


<a id="nestedblock--proxy_configuration"></a>
### Nested Schema for `proxy_configuration`

Required:

- `container_name` (String)

Optional:

- `properties` (Map of String)
- `type` (String) Defaults to `APPMESH`.


<a id="nestedblock--requires_attributes"></a>
### Nested Schema for `requires_attributes`

Required:

- `name` (String)


<a id="nestedblock--timeouts"></a>
### Nested Schema for `timeouts`

Optional:

- `create` (String)
- `delete` (String)
- `update` (String)


<a id="nestedatt--tags"></a>
### Nested Schema for `tags`

Read-Only:

- `key` (String)
- `value` (String)

## Import

Import is supported using the following syntax:

```shell
# Example: Importing an existing ECS task definition
#  - *TENANT_ID* is the tenant GUID
#  - *ARN* is the full ARN of the task definition
#
terraform import duplocloud_ecs_task_definition.myservice subscriptions/*TENANT_ID*/EcsTaskDefinition/*ARN*
```
