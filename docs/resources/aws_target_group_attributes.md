---
# generated by https://github.com/hashicorp/terraform-plugin-docs
page_title: "duplocloud_aws_target_group_attributes Resource - terraform-provider-duplocloud"
subcategory: ""
description: |-
  duplocloud_aws_target_group_attributes manages an aws target group attributes in Duplo.
---

# duplocloud_aws_target_group_attributes (Resource)

`duplocloud_aws_target_group_attributes` manages an aws target group attributes in Duplo.

## Example Usage

```terraform
resource "duplocloud_tenant" "myapp" {
  account_name = "myapp"
  plan_id      = "default"
}

# Using target group ARN
resource "duplocloud_aws_target_group_attributes" "tg_attrs" {
  tenant_id        = duplocloud_tenant.myapp.tenant_id
  target_group_arn = element(concat(flatten(duplocloud_ecs_service.nginx.*.target_group_arns), list("")), 0)

  attribute {
    key   = "deregistration_delay.timeout_seconds"
    value = "60"
  }
  attribute {
    key   = "slow_start.duration_seconds"
    value = "0"
  }
  attribute {
    key   = "stickiness.app_cookie.duration_seconds"
    value = "86400"
  }
  attribute {
    key   = "stickiness.enabled"
    value = "false"
  }
  attribute {
    key   = "stickiness.lb_cookie.duration_seconds"
    value = "86400"
  }
  attribute {
    key   = "stickiness.type"
    value = "lb_cookie"
  }
}


# For ECS - Using name and container port
resource "duplocloud_aws_target_group_attributes" "tg_attrs" {
  tenant_id = duplocloud_tenant.myapp.tenant_id
  role_name = "nginx"
  port      = 80
  is_ecs_lb = true

  attribute {
    key   = "deregistration_delay.timeout_seconds"
    value = "60"
  }
  attribute {
    key   = "slow_start.duration_seconds"
    value = "0"
  }
  attribute {
    key   = "stickiness.app_cookie.duration_seconds"
    value = "86400"
  }
  attribute {
    key   = "stickiness.enabled"
    value = "false"
  }
  attribute {
    key   = "stickiness.lb_cookie.duration_seconds"
    value = "86400"
  }
  attribute {
    key   = "stickiness.type"
    value = "lb_cookie"
  }
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `tenant_id` (String) The GUID of the tenant that the aws target group attributes will be created in.

### Optional

- `attribute` (Block Set) (see [below for nested schema](#nestedblock--attribute))
- `is_ecs_lb` (Boolean) Whether or not to look up the LB via an ECS service name instead of replication controller name.
- `is_passthrough_lb` (Boolean) Whether or not to look up the LB via the LB name instead of replication controller name.
- `port` (Number) Port used to connect with the target.
- `role_name` (String) Name of the ecs service or replication controller.
- `target_group_arn` (String) ARN of the Target Group.
- `timeouts` (Block, Optional) (see [below for nested schema](#nestedblock--timeouts))

### Read-Only

- `id` (String) The ID of this resource.

<a id="nestedblock--attribute"></a>
### Nested Schema for `attribute`

Optional:

- `key` (String)
- `value` (String)


<a id="nestedblock--timeouts"></a>
### Nested Schema for `timeouts`

Optional:

- `create` (String)
- `delete` (String)

## Import

Import is supported using the following syntax:

```shell
# Example: Importing an existing AWS target group attributes.
#  - *TENANT_ID* is the tenant GUID
#  - *TARGET_GROUP_ARN* is the ARN of target group.
#
terraform import duplocloud_aws_target_group_attributes.tgAttrs *TENANT_ID*/*TARGET_GROUP_ARN*
```
