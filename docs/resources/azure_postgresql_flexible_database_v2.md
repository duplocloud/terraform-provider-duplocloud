---
# generated by https://github.com/hashicorp/terraform-plugin-docs
page_title: "duplocloud_azure_postgresql_flexible_database_v2 Resource - terraform-provider-duplocloud"
subcategory: ""
description: |-
  duplocloud_azure_postgresql_flexible_database_v2 manages an azure postgresql flexible  database in Duplo.
---

# duplocloud_azure_postgresql_flexible_database_v2 (Resource)

`duplocloud_azure_postgresql_flexible_database_v2` manages an azure postgresql flexible  database in Duplo.

## Example Usage

```terraform
resource "duplocloud_tenant" "myapp" {
  account_name = "myapp"
  plan_id      = "default"
}

resource "duplocloud_azure_postgresql_flexible_database_v2" "db" {
  tenant_id                       = duplocloud_tenant.myapp.tenant_id
  name                            = "psqlflex"
  service_tier                    = "Burstable"
  hardware                        = "Standard_B2ms"
  high_availability               = "Disabled"
  storage_gb                      = 64
  version                         = "16"
  minor_version                   = "8"
  delegated_subnet_id             = "/subscriptions/{subscriptionId}/resourceGroups/{resourceGroupName}/providers/Microsoft.Network/virtualNetworks/{virtualNetworkName}/subnets/{subnetName}"
  private_dns_zone_id             = "/subscriptions/<subscription-id>/resourceGroups/<resource-group-name>/providers/Microsoft.Network/privateDnsZones/privatelink.postgres.database.azure.com"
  administrator_login             = "tftry"
  administrator_login_password    = "Guide#123"
  backup_retention_days           = 8
  geo_redundant_backup            = "Enabled"
  active_directory_authentication = "Enabled"
  public_network_access           = "Disabled"
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `administrator_login` (String) The Administrator Login for the PostgreSQL Server.
- `administrator_login_password` (String, Sensitive) The Password associated with the `administrator_login` for the PostgreSQL Server.
- `hardware` (String) Specify compute based on service tier by prepending Standard_ keyword from following document https://azure.microsoft.com/en-in/pricing/details/postgresql/flexible-server
- `name` (String) Specifies the name of the PostgreSQL Server. Changing this forces a new resource to be created. This needs to be globally unique within Azure.
- `service_tier` (String) Specify service_tier among `Burstable`, `GeneralPurpose` or `MemoryOptimized`. Note: should disable high_availability before updating to Burstable
- `tenant_id` (String) The GUID of the tenant that the azure postgresql database will be created in.
- `version` (String) Specifies the version of PostgreSQL Flexible DB to use. Valid values are `16`,`15`,`14`,`13`,`12`,`11`. Changing this forces a new resource to be created.

### Optional

- `active_directory_authentication` (String) Whether Active Directory authentication is allowed to access the PostgreSQL Flexible Server Defaults to `Disabled`.
- `availability_zone` (String) The Azure Availability Zone where the primary PostgreSQL Flexible Server will be deployed. It enables zone-level redundancy for increased fault tolerance. When High Availability (HA) is enabled in ZoneRedundant mode, the standby replica is automatically placed in a different zone. Valid values are `1`, `2`, or `3`, depending on the region's supported zones
- `backup_retention_days` (Number) Backup retention days for the server, supported values are between `7` and `35` days. Note: Updation allowed on updating with higher retention days value from current
- `delegated_subnet_id` (String) The ID of the virtual network subnet to create the PostgreSQL Flexible Server. The provided subnet should not have any other resource deployed in it and this subnet will be delegated to the PostgreSQL Flexible Server, if not already delegated. Changing this forces a new PostgreSQL Flexible Server to be created.
- `geo_redundant_backup` (String) Turn Geo-redundant server backups Enabled/Disabled. To enable or disable geo_redundant_backup resource need to be recreated
- `high_availability` (String) High availability options— Disabled, SameZone, and ZoneRedundant — are applicable if the service tier is set to GeneralPurpose or MemoryOptimized. Defaults to `Disabled`.
- `minor_version` (String) Minor version Defaults to `0`.
- `password_authentication` (String) Whether password authentication is allowed to access the PostgreSQL Flexible Server Defaults to `Enabled`.
- `private_dns_zone_id` (String) The ID of the private DNS zone to create the PostgreSQL Flexible Server. The private_dns_zone_id will be required when setting a delegated_subnet_id. For existing flexible servers who don't want to be recreated, you need to provide the private_dns_zone_id to the service team to manually migrate to the specified private DNS zone. The azurerm_private_dns_zone should end with suffix .postgres.database.azure.com.
- `public_network_access` (String) Whether public network access is allowed for this server. Defaults to `Enabled`.
- `storage_gb` (Number) Max storage allowed for a server. Possible values are `32`,`64`,`128`,`256`,`512`,`1024`,`2048`,`4096`,`8192`,`16384`,`32768` GB. Note: Updation allowed on updating with higher storage size from current
- `timeouts` (Block, Optional) (see [below for nested schema](#nestedblock--timeouts))
- `wait_until_ready` (Boolean) Whether or not to wait until PostgreSQL Server instance to be ready, after creation. Defaults to `true`.

### Read-Only

- `active_directory_tenant_id` (String) Id of postgresql flexible server returned from azure
- `azure_resource_id` (String) Id of postgresql flexible server returned from azure
- `fully_qualified_domain_name` (String)
- `id` (String) The ID of this resource.
- `location` (String)
- `private_connection_endpoints` (List of String)
- `tags` (Map of String) A mapping of tags which should be assigned to the PostgreSQL Flexible Server

<a id="nestedblock--timeouts"></a>
### Nested Schema for `timeouts`

Optional:

- `create` (String)
- `delete` (String)
- `update` (String)

## Import

Import is supported using the following syntax:

```shell
# Example: Importing an existing Azure PostgreSQL Database
#  - *TENANT_ID* is the tenant GUID
#  - *SHORT_NAME* is the short name of the Azure PostgreSQL Database
#
terraform import duplocloud_azure_postgresql_database_v2.myPostgreSQLDatabase *TENANT_ID*/*SHORT_NAME*
```
