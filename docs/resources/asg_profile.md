---
# generated by https://github.com/hashicorp/terraform-plugin-docs
page_title: "duplocloud_asg_profile Resource - terraform-provider-duplocloud"
subcategory: ""
description: |-
  duplocloud_asg_profile manages a ASG Profile in Duplo.
---

# duplocloud_asg_profile (Resource)

`duplocloud_asg_profile` manages a ASG Profile in Duplo.

## Example Usage

```terraform
resource "duplocloud_tenant" "duplo-app" {
  account_name = "duplo-app"
  plan_id      = "default"
}

#Deploy a ASG to be used with Duplo's native container agent
resource "duplocloud_asg_profile" "duplo-test-asg" {
  tenant_id          = duplocloud_tenant.duplo-app.tenant_id
  friendly_name      = "duplo-test-asg"
  instance_count     = 1
  min_instance_count = 1
  max_instance_count = 2

  image_id       = "ami-077e0e0754c311a47" # <== put the AWS duplo docker AMI ID here
  capacity       = "t2.small"
  agent_platform = 0 # Duplo native container agent
  zone           = 0 # Zone A
  user_account   = duplocloud_tenant.duplo-app.account_name

  metadata {
    key   = "OsDiskSize" # <== This is the size of the OS disk in GB
    value = "100"
  }
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- **capacity** (String) The AWS EC2 instance type.
- **friendly_name** (String) The short name of the host.
- **image_id** (String) The AMI ID to use.
- **tenant_id** (String) The GUID of the tenant that the host will be created in.

### Optional

- **agent_platform** (Number) The numeric ID of the container agent pool that this host is added to. Defaults to `0`.
- **allocated_public_ip** (Boolean) Whether or not to allocate a public IP. Defaults to `false`.
- **base64_user_data** (String) Base64 encoded EC2 user data to associated with the host.
- **cloud** (Number) The numeric ID of the cloud provider to launch the host in. Defaults to `0`.
- **encrypt_disk** (Boolean) Defaults to `false`.
- **id** (String) The ID of this resource.
- **instance_count** (Number) The number of instances that should be running in the group.
- **is_cluster_autoscaled** (Boolean) Whether or not to enable cluster autoscaler.
- **is_ebs_optimized** (Boolean) Defaults to `false`.
- **is_minion** (Boolean) Defaults to `true`.
- **keypair_type** (Number) The numeric ID of the keypair type being used.Should be one of:

   - `0` : Default
   - `1` : ED25519
   - `2` : RSA (deprecated - some operating systems no longer support it)
- **max_instance_count** (Number) The maximum size of the Auto Scaling Group.
- **metadata** (Block List) Configuration metadata used when creating the host. (see [below for nested schema](#nestedblock--metadata))
- **min_instance_count** (Number) The minimum size of the Auto Scaling Group.
- **minion_tags** (Block List) A map of tags to assign to the resource. Example - `AllocationTags` can be passed as tag key with any value. (see [below for nested schema](#nestedblock--minion_tags))
- **network_interface** (Block List) An optional list of custom network interface configurations to use when creating the host. (see [below for nested schema](#nestedblock--network_interface))
- **tags** (Block List) (see [below for nested schema](#nestedblock--tags))
- **timeouts** (Block, Optional) (see [below for nested schema](#nestedblock--timeouts))
- **use_launch_template** (Boolean) Whether or not to use launch template.
- **user_account** (String) The name of the tenant that the host will be created in.
- **volume** (Block List) (see [below for nested schema](#nestedblock--volume))
- **wait_for_capacity** (Boolean) Whether or not to wait until ASG instances to be healthy, after creation. Defaults to `true`.
- **zone** (Number) The availability zone to launch the host in, expressed as a number and starting at 0. Defaults to `0`.

### Read-Only

- **fullname** (String) The full name of the ASG profile.

<a id="nestedblock--metadata"></a>
### Nested Schema for `metadata`

Required:

- **key** (String)
- **value** (String)


<a id="nestedblock--minion_tags"></a>
### Nested Schema for `minion_tags`

Required:

- **key** (String)
- **value** (String)


<a id="nestedblock--network_interface"></a>
### Nested Schema for `network_interface`

Optional:

- **associate_public_ip** (Boolean) Whether or not to associate a public IP with the newly created ENI.  Cannot be specified if `network_interface_id` is specified.
- **device_index** (Number) The device index to pass to AWS for attaching the ENI.  Starts at zero.
- **groups** (List of String)
- **metadata** (Block List) (see [below for nested schema](#nestedblock--network_interface--metadata))
- **network_interface_id** (String) The ID of an ENI to attach to this host.  Cannot be specified if `subnet_id` or `associate_public_ip` is specified.
- **subnet_id** (String) The ID of a subnet in which to create a new ENI.  Cannot be specified if `network_interface_id` is specified.

<a id="nestedblock--network_interface--metadata"></a>
### Nested Schema for `network_interface.metadata`

Required:

- **key** (String)
- **value** (String)



<a id="nestedblock--tags"></a>
### Nested Schema for `tags`

Required:

- **key** (String)
- **value** (String)


<a id="nestedblock--timeouts"></a>
### Nested Schema for `timeouts`

Optional:

- **create** (String)
- **delete** (String)
- **update** (String)


<a id="nestedblock--volume"></a>
### Nested Schema for `volume`

Optional:

- **iops** (Number)
- **name** (String)
- **size** (Number)
- **volume_id** (String)
- **volume_type** (String)

## Import

Import is supported using the following syntax:

```shell
# Example: Importing an existing AWS ASG
#  - *TENANT_ID* is the tenant GUID
#  - *FRIENDLY_NAME* is the duploservices-<account_name>-<friendly_name>
#
terraform import duplocloud_asg_profile.myAsgProfile *TENANT_ID*/*FRIENDLY_NAME*
```
