---
# generated by https://github.com/hashicorp/terraform-plugin-docs
page_title: "duplocloud_aws_host Resource - terraform-provider-duplocloud"
subcategory: ""
description: |-
  duplocloud_aws_host manages a native AWS host in Duplo.
---

# duplocloud_aws_host (Resource)

`duplocloud_aws_host` manages a native AWS host in Duplo.

## Example Usage

```terraform
resource "duplocloud_tenant" "myapp" {
  account_name = "myapp"
  plan_id      = "default"
}

# Simple Example 1:  Deploy a host to be used with Duplo's native container agent
resource "duplocloud_aws_host" "native" {
  tenant_id     = duplocloud_tenant.myapp.tenant_id
  friendly_name = "host1"

  image_id       = "ami-abcd1234" # <== put the AWS duplo docker AMI ID here
  capacity       = "t3a.medium"
  agent_platform = 0 # Duplo native container agent
  zone           = 0 # Zone A
  user_account   = duplocloud_tenant.myapp.account_name
}

# Simple Example 2:  Deploy a host to be used with EKS
resource "duplocloud_aws_host" "eks" {
  tenant_id     = duplocloud_tenant.myapp.tenant_id
  friendly_name = "host2"

  image_id       = "ami-12345678" # <== put the AWS EKS 1.18 AMI ID here
  capacity       = "t3a.medium"
  agent_platform = 7 # Duplo EKS agent
  zone           = 0 # Zone A
  user_account   = duplocloud_tenant.myapp.account_name
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- **capacity** (String) The AWS EC2 instance type.
- **friendly_name** (String) The short name of the host.
- **image_id** (String) The AMI ID to use.
- **tenant_id** (String) The GUID of the tenant that the host will be created in.

### Optional

- **agent_platform** (Number) The numeric ID of the container agent pool that this host is added to. Defaults to `0`.
- **allocated_public_ip** (Boolean) Whether or not to allocate a public IP. Defaults to `false`.
- **base64_user_data** (String) Base64 encoded EC2 user data to associated with the host.
- **cloud** (Number) The numeric ID of the cloud provider to launch the host in. Defaults to `0`.
- **encrypt_disk** (Boolean) Defaults to `false`.
- **is_ebs_optimized** (Boolean) Defaults to `false`.
- **is_minion** (Boolean) Defaults to `true`.
- **metadata** (Block List) Configuration metadata used when creating the host. (see [below for nested schema](#nestedblock--metadata))
- **minion_tags** (Block List) (see [below for nested schema](#nestedblock--minion_tags))
- **network_interface** (Block List) An optional list of custom network interface configurations to use when creating the host. (see [below for nested schema](#nestedblock--network_interface))
- **tags** (Block List) (see [below for nested schema](#nestedblock--tags))
- **timeouts** (Block, Optional) (see [below for nested schema](#nestedblock--timeouts))
- **user_account** (String) The name of the tenant that the host will be created in.
- **volume** (Block List) (see [below for nested schema](#nestedblock--volume))
- **wait_until_connected** (Boolean) Whether or not to wait until Duplo can connect to the host, after creation. Defaults to `true`.
- **zone** (Number) The availability zone to launch the host in, expressed as a number and starting at 0. Defaults to `0`.

### Read-Only

- **id** (String) The ID of this resource.
- **identity_role** (String) The name of the IAM role associated with this host.
- **instance_id** (String) The AWS EC2 instance ID of the host.
- **private_ip_address** (String) The primary private IP address assigned to the host.
- **status** (String) The current status of the host.

<a id="nestedblock--metadata"></a>
### Nested Schema for `metadata`

Required:

- **key** (String)
- **value** (String)


<a id="nestedblock--minion_tags"></a>
### Nested Schema for `minion_tags`

Required:

- **key** (String)
- **value** (String)


<a id="nestedblock--network_interface"></a>
### Nested Schema for `network_interface`

Optional:

- **associate_public_ip** (Boolean) Whether or not to associate a public IP with the newly created ENI.  Cannot be specified if `network_interface_id` is specified.
- **device_index** (Number) The device index to pass to AWS for attaching the ENI.  Starts at zero.
- **groups** (List of String)
- **metadata** (Block List) (see [below for nested schema](#nestedblock--network_interface--metadata))
- **network_interface_id** (String) The ID of an ENI to attach to this host.  Cannot be specified if `subnet_id` or `associate_public_ip` is specified.
- **subnet_id** (String) The ID of a subnet in which to create a new ENI.  Cannot be specified if `network_interface_id` is specified.

<a id="nestedblock--network_interface--metadata"></a>
### Nested Schema for `network_interface.metadata`

Required:

- **key** (String)
- **value** (String)



<a id="nestedblock--tags"></a>
### Nested Schema for `tags`

Required:

- **key** (String)
- **value** (String)


<a id="nestedblock--timeouts"></a>
### Nested Schema for `timeouts`

Optional:

- **create** (String)
- **delete** (String)
- **update** (String)


<a id="nestedblock--volume"></a>
### Nested Schema for `volume`

Optional:

- **iops** (Number)
- **name** (String)
- **size** (Number)
- **volume_id** (String)
- **volume_type** (String)

## Import

Import is supported using the following syntax:

```shell
# Example: Importing an existing AWS host
#  - *TENANT_ID* is the tenant GUID
#  - *INSTANCE_ID* is the AWS EC2 instance ID
#
terraform import duplocloud_aws_host.myhost v2/subscriptions/*TENANT_ID*/NativeHostV2/*INSTANCE_ID*
```
