---
# generated by https://github.com/hashicorp/terraform-plugin-docs
page_title: "duplocloud_aws_efs_lifecycle_policy Resource - terraform-provider-duplocloud"
subcategory: ""
description: |-
  duplocloud_aws_efs_lifecycle_policy Provides an Elastic File System (EFS) File System Lifecycle Policy resource in DuploCloud.
---

# duplocloud_aws_efs_lifecycle_policy (Resource)

`duplocloud_aws_efs_lifecycle_policy` Provides an Elastic File System (EFS) File System Lifecycle Policy resource in DuploCloud.

## Example Usage

```terraform
resource "duplocloud_tenant" "myapp" {
  account_name = "myapp"
  plan_id      = "default"
}

resource "duplocloud_aws_efs_file_system" "efs" {
  tenant_id        = duplocloud_tenant.myapp.tenant_id
  name             = "efs-test"
  performance_mode = "generalPurpose"
  throughput_mode  = "elastic"
  backup           = true
  encrypted        = true
}

resource "duplocloud_aws_efs_lifecycle_policy" "efs_policy" {
  tenant_id      = duplocloud_tenant.myapp.tenant_id
  file_system_id = duplocloud_aws_efs_file_system.efs.file_system_id
  lifecycle_policy {
    transition_to_ia = "AFTER_7_DAYS"
  }
  lifecycle_policy {
    transition_to_archive = "AFTER_14_DAYS"
  }
  lifecycle_policy {
    transition_to_primary_storage_class = "AFTER_1_ACCESS"
  }
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `file_system_id` (String)
- `lifecycle_policy` (Block List, Min: 1, Max: 3) (see [below for nested schema](#nestedblock--lifecycle_policy))
- `tenant_id` (String)

### Optional

- `timeouts` (Block, Optional) (see [below for nested schema](#nestedblock--timeouts))

### Read-Only

- `id` (String) The ID of this resource.

<a id="nestedblock--lifecycle_policy"></a>
### Nested Schema for `lifecycle_policy`

Optional:

- `transition_to_archive` (String) Indicates how long it takes to transition files to the archive storage class. Requires transition_to_ia, Elastic Throughput and General Purpose performance mode. Valid values: `AFTER_1_DAY`, `AFTER_7_DAYS`, `AFTER_14_DAYS`, `AFTER_30_DAYS`, `AFTER_60_DAYS`, or `AFTER_90_DAYS`
- `transition_to_ia` (String) Indicates how long it takes to transition files to the IA storage class. Valid values: `AFTER_1_DAY`, `AFTER_7_DAYS`, `AFTER_14_DAYS`, `AFTER_30_DAYS`, `AFTER_60_DAYS`, or `AFTER_90_DAYS`
- `transition_to_primary_storage_class` (String) Describes the policy used to transition a file from infequent access storage to primary storage. Valid values: `AFTER_1_ACCESS`


<a id="nestedblock--timeouts"></a>
### Nested Schema for `timeouts`

Optional:

- `create` (String)
- `delete` (String)

## Import

Import is supported using the following syntax:

```shell
# Example: Importing an existing AWS Elastic File System
#  - *TENANT_ID* is the tenant GUID
#  - *FILE_SYSTEM_ID* is the ID of the AWS Elastic File System
#
terraform import duplocloud_aws_efs_lifecycle_policy.efslifecycle *TENANT_ID*/*FILE_SYSTEM_ID*
```
